{"version":3,"sources":["../../src/pages/chat-messages/chat-messages.module.ts","../../src/pages/chat-messages/chat-messages.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAAyC;AACO;AACG;AAUnD;IAAA;IAAqC,CAAC;IAAzB,sBAAsB;QARlC,uEAAQ,CAAC;YACR,YAAY,EAAE;gBACZ,wEAAgB;aACjB;YACD,OAAO,EAAE;gBACP,sEAAe,CAAC,QAAQ,CAAC,wEAAgB,CAAC;aAC3C;SACF,CAAC;OACW,sBAAsB,CAAG;IAAD,6BAAC;CAAA;AAAH;;;;;;;;;;;;;;;;;;;;;;;;ACZO;AACe;AACH;AACY;AACT;AAOzD;IAME,0BACS,OAAsB,EACtB,SAAoB,EACnB,GAAgB,EAChB,OAAwB,EACxB,IAAkB;QAL5B,iBAoBC;QAnBQ,YAAO,GAAP,OAAO,CAAe;QACtB,cAAS,GAAT,SAAS,CAAW;QACnB,QAAG,GAAH,GAAG,CAAa;QAChB,YAAO,GAAP,OAAO,CAAiB;QACxB,SAAI,GAAJ,IAAI,CAAc;QAVrB,YAAO,GAAG,EAAE,CAAC;QACb,aAAQ,GAAG,EAAE,CAAC;QACd,gBAAW,GAAG,EAAE,CAAC;QACjB,UAAK,GAAG,EAAE,CAAC;QAShB,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE,CAAC;QAC1C,IAAI,CAAC,KAAK,GAAG,YAAY,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;QAE3C,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;QACjC,IAAI,CAAC,GAAG,CAAC,WAAW,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,SAAS,CAAC,UAAC,GAAQ;YACxD,KAAI,CAAC,QAAQ,GAAG,GAAG,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC;YACnC,OAAO,CAAC,GAAG,CAAC,KAAI,CAAC,QAAQ,CAAC;YAC1B,KAAI,CAAC,OAAO,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC;QACtC,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,UAAC,GAAQ;YACnC,KAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAClD,CAAC,CAAC,CAAC;IACL,CAAC;IAED,yCAAc,GAAd;IACA,CAAC;IAED,qCAAU,GAAV;QACE,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC;IACnC,CAAC;IAED,+BAAI,GAAJ;QACE,EAAE,CAAC,CAAC,IAAI,CAAC,OAAO,KAAK,EAAE,CAAC,CAAC,CAAC;YACxB,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC;gBACpB,OAAO,EAAE,IAAI,CAAC,OAAO;gBACrB,WAAW,EAAE,IAAI,CAAC,WAAW;gBAC7B,KAAK,EAAE,YAAY,CAAC,OAAO,CAAC,OAAO,CAAC;aACrC,CAAC,CAAC;YACH,IAAI,CAAC,OAAO,GAAG,EAAE,CAAC;QACpB,CAAC;IACH,CAAC;IA5CU,gBAAgB;QAJ5B,wEAAS,CAAC;YACT,QAAQ,EAAE,oBAAoB;WACG;SAClC,CAAC;6EAQ+B;YACX,uEAAS;YACd,mFAAW;YACP,4EAAe;YAClB,YAAY;OAXjB,gBAAgB,CA6C5B;IAAD,CAAC;AAAA;SA7CY,gBAAgB,gB","file":"37.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ChatMessagesPage } from './chat-messages';\n\n@NgModule({\n  declarations: [\n    ChatMessagesPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ChatMessagesPage),\n  ],\n})\nexport class ChatMessagesPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/chat-messages/chat-messages.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\nimport { ApiProvider } from '../../providers/api/api';\nimport { LoadingProvider } from '../../providers/loading/loading';\nimport { ChatProvider } from '../../providers/chat/chat';\n\n@IonicPage()\n@Component({\n  selector: 'page-chat-messages',\n  templateUrl: 'chat-messages.html',\n})\nexport class ChatMessagesPage {\n  public message = '';\n  public messages = [];\n  public receiver_id = '';\n  public email = '';\n\n  constructor(\n    public navCtrl: NavController, \n    public navParams: NavParams,\n    private api: ApiProvider,\n    private loading: LoadingProvider,\n    private chat: ChatProvider,\n  ) {\n    this.receiver_id = this.navParams.data.id;\n    this.email = localStorage.getItem('email');\n\n    this.loading.show('getMessages');\n    this.api.getMessages(this.receiver_id).subscribe((res: any) => {\n      this.messages = res.data.reverse();\n      console.log(this.messages)\n      this.loading.dismiss('getMessages');\n    });\n\n    this.chat.message.subscribe((res: any) => {\n      this.messages.push(JSON.parse(res.json_msg)[0]);\n    });\n  }\n\n  ionViewDidLoad() {\n  }\n\n  goRoomList() {\n    this.navCtrl.setRoot('ChatPage');\n  }\n\n  send() {\n    if (this.message !== '') {\n      this.chat.sendMessage({\n        message: this.message,\n        receiver_id: this.receiver_id,\n        token: localStorage.getItem('token'),\n      });\n      this.message = '';\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/chat-messages/chat-messages.ts"],"sourceRoot":""}